name: kubernetes-namespace
label: Kubernetes Namespace
icon: https://raw.githubusercontent.com/massdriver-cloud/massdriver-catalog/refs/heads/main/platforms/kubernetes/icon.png

ui:
  environmentDefaultGroup: credentials
  instructions:
    - label: kubectl CLI
      path: ./instructions/kubectl CLI.md

exports:
  - downloadButtonText: Kube Config
    fileFormat: yaml
    templatePath: ./exports/kubeconfig.yaml.liquid
    templateLang: liquid

schema:
  title: Kubernetes Namespace
  description: Namespace with cluster authentication
  type: object
  required:
    - authentication
    - namespace
  properties:
    namespace:
      title: Namespace
      description: Target namespace for workloads
      type: string
      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
      examples:
        - default
        - production
        - staging
    authentication:
      title: Authentication
      description: Cluster access credentials
      type: object
      required:
        - cluster
        - user
      properties:
        cluster:
          title: Cluster
          description: API server connection details
          type: object
          required:
            - server
            - certificate-authority-data
          properties:
            server:
              title: Server
              description: API server endpoint URL
              type: string
            certificate-authority-data:
              title: CA Data
              description: Base64-encoded CA certificate
              type: string
        user:
          title: User
          description: Client credentials
          type: object
          required:
            - token
          properties:
            token:
              $md.sensitive: true
              title: Token
              description: Bearer authentication token
              type: string
